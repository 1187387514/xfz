function CourseDetail(){}CourseDetail.prototype.initPlayer=function(){var e=$("#video-info"),t=e.attr("data-video-url"),o=e.attr("data-cover-url"),a=e.attr("data-course-id");console.log("1111");var n=cyberplayer("playercontainer").setup({width:"100%",height:"100%",file:t,image:o,autostart:!1,stretching:"uniform",repeat:!1,volume:100,controls:!0,tokenEncrypt:!0,ak:"57f03e40367e497884a3098297a93862"});n.on("beforePlay",function(o){/m3u8/.test(o.file)&&xfzajax.get({url:"/course/course_token/",data:{video:t,course_id:a},success:function(e){if(200===e.code){var t=e.data.token;n.setToken(o.file,t)}else window.messageBox.showInfo(e.message),n.stop()},fail:function(e){console.log(e)}})})},CourseDetail.prototype.run=function(){this.initPlayer()},$(function(){(new CourseDetail).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvdXJzZV9kZXRhaWwuanMiXSwibmFtZXMiOlsiQ291cnNlRGV0YWlsIiwicHJvdG90eXBlIiwiaW5pdFBsYXllciIsInZpZGVvSW5mb1NwYW4iLCIkIiwidmlkZW9fdXJsIiwiYXR0ciIsImNvdmVyX3VybCIsImNvdXJzZV9pZCIsImNvbnNvbGUiLCJsb2ciLCJwbGF5ZXIiLCJjeWJlcnBsYXllciIsInNldHVwIiwid2lkdGgiLCJoZWlnaHQiLCJmaWxlIiwiaW1hZ2UiLCJhdXRvc3RhcnQiLCJzdHJldGNoaW5nIiwicmVwZWF0Iiwidm9sdW1lIiwiY29udHJvbHMiLCJ0b2tlbkVuY3J5cHQiLCJhayIsIm9uIiwiZSIsInRlc3QiLCJ4ZnphamF4IiwiZ2V0IiwidXJsIiwiZGF0YSIsInZpZGVvIiwic3VjY2VzcyIsInJlc3VsdCIsInRva2VuIiwic2V0VG9rZW4iLCJ3aW5kb3ciLCJtZXNzYWdlQm94Iiwic2hvd0luZm8iLCJzdG9wIiwiZmFpbCIsImVycm9yIiwicnVuIiwidGhpcyJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsZ0JBSVRBLGFBQWFDLFVBQVVDLFdBQWEsV0FDaEMsSUFBSUMsRUFBZ0JDLEVBQUUsZUFDbEJDLEVBQVlGLEVBQWNHLEtBQUssa0JBQy9CQyxFQUFZSixFQUFjRyxLQUFLLGtCQUMvQkUsRUFBWUwsRUFBY0csS0FBSyxrQkFDbkNHLFFBQVFDLElBQUksUUFFWixJQUFJQyxFQUFTQyxZQUFZLG1CQUFtQkMsTUFBTSxDQUMxQ0MsTUFBTyxPQUNQQyxPQUFRLE9BQ1JDLEtBQU1YLEVBQ05ZLE1BQU9WLEVBQ1BXLFdBQVcsRUFDWEMsV0FBWSxVQUNaQyxRQUFRLEVBQ1JDLE9BQVEsSUFDUkMsVUFBVSxFQUNWQyxjQUFjLEVBRWRDLEdBQUkscUNBR1piLEVBQU9jLEdBQUcsYUFBYSxTQUFVQyxHQUNyQixPQUFPQyxLQUFLRCxFQUFFVixPQUdsQlksUUFBUUMsSUFBSSxDQUNSQyxJQUFPLHdCQUNQQyxLQUFRLENBQ0pDLE1BQVMzQixFQUNURyxVQUFhQSxHQUVqQnlCLFFBQVcsU0FBVUMsR0FDakIsR0FBc0IsTUFBbkJBLEVBQWEsS0FBVSxDQUN0QixJQUFJQyxFQUFRRCxFQUFhLEtBQVMsTUFDbEN2QixFQUFPeUIsU0FBU1YsRUFBRVYsS0FBS21CLFFBRXZCRSxPQUFPQyxXQUFXQyxTQUFTTCxFQUFnQixTQUMzQ3ZCLEVBQU82QixRQUdmQyxLQUFRLFNBQVVDLEdBQ2RqQyxRQUFRQyxJQUFJZ0MsU0FNaEMxQyxhQUFhQyxVQUFVMEMsSUFBTSxXQUN6QkMsS0FBSzFDLGNBR1RFLEVBQUUsWUFDcUIsSUFBSUosY0FDVjJDIiwiZmlsZSI6ImNvdXJzZV9kZXRhaWwubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gQ291cnNlRGV0YWlsKCkge1xyXG5cclxufVxyXG5cclxuQ291cnNlRGV0YWlsLnByb3RvdHlwZS5pbml0UGxheWVyID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciB2aWRlb0luZm9TcGFuID0gJChcIiN2aWRlby1pbmZvXCIpO1xyXG4gICAgdmFyIHZpZGVvX3VybCA9IHZpZGVvSW5mb1NwYW4uYXR0cihcImRhdGEtdmlkZW8tdXJsXCIpO1xyXG4gICAgdmFyIGNvdmVyX3VybCA9IHZpZGVvSW5mb1NwYW4uYXR0cihcImRhdGEtY292ZXItdXJsXCIpO1xyXG4gICAgdmFyIGNvdXJzZV9pZCA9IHZpZGVvSW5mb1NwYW4uYXR0cignZGF0YS1jb3Vyc2UtaWQnKTtcclxuICAgIGNvbnNvbGUubG9nKCcxMTExJyk7XHJcblxyXG4gICAgdmFyIHBsYXllciA9IGN5YmVycGxheWVyKFwicGxheWVyY29udGFpbmVyXCIpLnNldHVwKHtcclxuICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcclxuICAgICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXHJcbiAgICAgICAgICAgIGZpbGU6IHZpZGVvX3VybCxcclxuICAgICAgICAgICAgaW1hZ2U6IGNvdmVyX3VybCxcclxuICAgICAgICAgICAgYXV0b3N0YXJ0OiBmYWxzZSxcclxuICAgICAgICAgICAgc3RyZXRjaGluZzogXCJ1bmlmb3JtXCIsXHJcbiAgICAgICAgICAgIHJlcGVhdDogZmFsc2UsXHJcbiAgICAgICAgICAgIHZvbHVtZTogMTAwLFxyXG4gICAgICAgICAgICBjb250cm9sczogdHJ1ZSxcclxuICAgICAgICAgICAgdG9rZW5FbmNyeXB0OiB0cnVlLFxyXG4gICAgICAgICAgICAvLyBBY2Nlc3NLZXlcclxuICAgICAgICAgICAgYWs6ICc1N2YwM2U0MDM2N2U0OTc4ODRhMzA5ODI5N2E5Mzg2MidcclxuICAgICAgICB9KTtcclxuXHJcbiAgICBwbGF5ZXIub24oJ2JlZm9yZVBsYXknLGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGlmKCEvbTN1OC8udGVzdChlLmZpbGUpKXtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB4ZnphamF4LmdldCh7XHJcbiAgICAgICAgICAgICAgICAndXJsJzogJy9jb3Vyc2UvY291cnNlX3Rva2VuLycsXHJcbiAgICAgICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICAgICAndmlkZW8nOiB2aWRlb191cmwsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2NvdXJzZV9pZCc6IGNvdXJzZV9pZFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHJlc3VsdFsnY29kZSddID09PSAyMDApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG9rZW4gPSByZXN1bHRbJ2RhdGEnXVsndG9rZW4nXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLnNldFRva2VuKGUuZmlsZSx0b2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3dJbmZvKHJlc3VsdFsnbWVzc2FnZSddKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgJ2ZhaWwnOiBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG59XHJcblxyXG5Db3Vyc2VEZXRhaWwucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuaW5pdFBsYXllcigpO1xyXG59XHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBjb3Vyc2VEZXRhaWwgPSBuZXcgQ291cnNlRGV0YWlsKCk7XHJcbiAgICBjb3Vyc2VEZXRhaWwucnVuKCk7XHJcbn0pIl19
