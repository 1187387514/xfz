function News(){}News.prototype.initUEditor=function(){window.ue=UE.getEditor("editor",{initialFrameHeight:400,serverUrl:"/ueditor/upload/"})},News.prototype.run=function(){var e=this;e.initUEditor(),e.listenUploadFileEvent(),e.listenSubmitEvent()},News.prototype.listenSubmitEvent=function(){submitBtn=$("#submit-btn"),submitBtn.click(function(e){e.preventDefault();var t=$("input[name='title']").val(),n=$("select[name='category']").val(),i=$("input[name='desc']").val(),o=$("input[name='thumbnail']").val(),s=window.ue.getContent(),a=$("#submit-btn").attr("data-news-id"),r="";r=a?"/cms/edit_news/"+a:"/cms/write_news/",xfzajax.post({url:r,data:{title:t,category:n,desc:i,thumbnail:o,content:s,pk:a},success:function(e){200===e.code&&xfzalert.alertSuccess("恭喜！新闻发表成功！",function(){window.location.reload()})}})})},News.prototype.listenUploadFileEvent=function(){var n=$("#thumbnail-btn");n.change(function(){var e=n[0].files[0],t=new FormData;t.append("file",e),xfzajax.post({url:"/cms/upload_file/",data:t,processData:!1,contentType:!1,success:function(e){if(200===e.code){var t=e.data.url;$("#thumbnail-form").val(t)}}})})},News.prototype.listenQiniuUploadFileEvent=function(){$("#thumbnail-btn").change(function(){console.log(1);var a=this.files[0];xfzajax.get({url:"/cms/qntoken/",success:function(e){var t=e.data.token,n=(new Date).getTime()+"."+a.name.split(".").slice(-1)[0],i={useCdnDomain:!0,region:qiniu.region.z0,retryCount:6},o={fname:n,mimeType:["image/png","image/jpeg","image/gif","video/x-ms-wmv"]},s={next:function(e){var t=e.total.percent,n=t.toFixed(0)+"%";console.log(t),News.progressGroup.show();var i=$(".progress-bar");i.css({width:n}),i.text(n)},error:function(e){console.log(e.message)},complete:function(e){console.log(e),News.progressGroup.hide();var t=$(".progress-bar");t.css({width:0}),t.text("0%");var n="http://q7wpxrqgy.bkt.clouddn.com/"+e.key;$("#thumbnail-form").val(n)}};qiniu.upload(a,n,t,o,i).subscribe(s)}})})},$(function(){(new News).run(),News.progressGroup=$("#progress-group")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndyaXRlX25ld3MuanMiXSwibmFtZXMiOlsiTmV3cyIsInByb3RvdHlwZSIsImluaXRVRWRpdG9yIiwid2luZG93IiwidWUiLCJVRSIsImdldEVkaXRvciIsImluaXRpYWxGcmFtZUhlaWdodCIsInNlcnZlclVybCIsInJ1biIsInNlbGYiLCJ0aGlzIiwibGlzdGVuVXBsb2FkRmlsZUV2ZW50IiwibGlzdGVuU3VibWl0RXZlbnQiLCJzdWJtaXRCdG4iLCIkIiwiY2xpY2siLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwidGl0bGUiLCJ2YWwiLCJjYXRlZ29yeSIsImRlc2MiLCJ0aHVtYm5haWwiLCJjb250ZW50IiwiZ2V0Q29udGVudCIsInBrIiwiYXR0ciIsInVybCIsInhmemFqYXgiLCJwb3N0IiwiZGF0YSIsInN1Y2Nlc3MiLCJyZXMiLCJ4ZnphbGVydCIsImFsZXJ0U3VjY2VzcyIsImxvY2F0aW9uIiwicmVsb2FkIiwidXBsb2FkQnRuIiwiY2hhbmdlIiwiZmlsZSIsImZpbGVzIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsImFwcGVuZCIsInByb2Nlc3NEYXRhIiwiY29udGVudFR5cGUiLCJyZXN1bHQiLCJsaXN0ZW5RaW5pdVVwbG9hZEZpbGVFdmVudCIsImNvbnNvbGUiLCJsb2ciLCJnZXQiLCJ0b2tlbiIsImtleSIsIkRhdGUiLCJnZXRUaW1lIiwibmFtZSIsInNwbGl0Iiwic2xpY2UiLCJjb25maWciLCJ1c2VDZG5Eb21haW4iLCJyZWdpb24iLCJxaW5pdSIsInowIiwicmV0cnlDb3VudCIsInB1dEV4dHJhIiwiZm5hbWUiLCJtaW1lVHlwZSIsIm9ic2VydmVyIiwibmV4dCIsInBlcmNlbnQiLCJ0b3RhbCIsInBlcmNlbnRUZXh0IiwidG9GaXhlZCIsInByb2dyZXNzR3JvdXAiLCJzaG93IiwicHJvZ3Jlc3NCYXIiLCJjc3MiLCJ3aWR0aCIsInRleHQiLCJlcnJvciIsImVyciIsIm1lc3NhZ2UiLCJjb21wbGV0ZSIsImhpZGUiLCJ1cGxvYWQiLCJz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TUFBTXVCLE9BQU83QyxFQUFNYSxFQUFLRCxFQUFPYSxFQUFVTixHQThCNUIyQixVQUFVbEIsU0FRekRyRCxFQUFFLFlBQ2EsSUFBSWYsTUFDVlMsTUFDTFQsS0FBSzBFLGNBQWdCM0QsRUFBRSIsImZpbGUiOiJ3cml0ZV9uZXdzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIE5ld3MoKSB7XHJcblxyXG59XHJcbk5ld3MucHJvdG90eXBlLmluaXRVRWRpdG9yID0gZnVuY3Rpb24oKXtcclxuICAgIHdpbmRvdy51ZSA9IFVFLmdldEVkaXRvcignZWRpdG9yJyx7XHJcbiAgICAgICAgJ2luaXRpYWxGcmFtZUhlaWdodCc6IDQwMCxcclxuICAgICAgICAnc2VydmVyVXJsJzogJy91ZWRpdG9yL3VwbG9hZC8nXHJcbiAgICB9KTtcclxufTtcclxuXHJcbk5ld3MucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuaW5pdFVFZGl0b3IoKTtcclxuICAgIHNlbGYubGlzdGVuVXBsb2FkRmlsZUV2ZW50KCk7XHJcbiAgICAvLyBzZWxmLmxpc3RlblFpbml1VXBsb2FkRmlsZUV2ZW50KCk7XHJcbiAgICBzZWxmLmxpc3RlblN1Ym1pdEV2ZW50KCk7XHJcblxyXG5cclxufTtcclxuXHJcbk5ld3MucHJvdG90eXBlLmxpc3RlblN1Ym1pdEV2ZW50ID0gZnVuY3Rpb24oKXtcclxuXHJcbiAgICBzdWJtaXRCdG4gPSAkKCcjc3VibWl0LWJ0bicpO1xyXG4gICAgc3VibWl0QnRuLmNsaWNrKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdmFyIHRpdGxlID0gJChcImlucHV0W25hbWU9J3RpdGxlJ11cIikudmFsKCk7XHJcbiAgICAgICAgdmFyIGNhdGVnb3J5ID0gJChcInNlbGVjdFtuYW1lPSdjYXRlZ29yeSddXCIpLnZhbCgpO1xyXG4gICAgICAgIHZhciBkZXNjID0gJChcImlucHV0W25hbWU9J2Rlc2MnXVwiKS52YWwoKTtcclxuICAgICAgICB2YXIgdGh1bWJuYWlsID0gJChcImlucHV0W25hbWU9J3RodW1ibmFpbCddXCIpLnZhbCgpO1xyXG4gICAgICAgIHZhciBjb250ZW50ID0gd2luZG93LnVlLmdldENvbnRlbnQoKTtcclxuICAgICAgICB2YXIgcGsgPSAkKCcjc3VibWl0LWJ0bicpLmF0dHIoJ2RhdGEtbmV3cy1pZCcpO1xyXG4gICAgICAgIHZhciB1cmwgPSAnJztcclxuICAgICAgICBpZihwayl7XHJcbiAgICAgICAgICAgIHVybCA9ICcvY21zL2VkaXRfbmV3cy8nK3BrO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB1cmwgPSAnL2Ntcy93cml0ZV9uZXdzLyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHhmemFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICd1cmwnOnVybCxcclxuICAgICAgICAgICAgJ2RhdGEnOntcclxuICAgICAgICAgICAgICAgICd0aXRsZSc6IHRpdGxlLFxyXG4gICAgICAgICAgICAgICAgJ2NhdGVnb3J5JzogY2F0ZWdvcnksXHJcbiAgICAgICAgICAgICAgICAnZGVzYyc6IGRlc2MsXHJcbiAgICAgICAgICAgICAgICAndGh1bWJuYWlsJzogdGh1bWJuYWlsLFxyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnQnOiBjb250ZW50LFxyXG4gICAgICAgICAgICAgICAgJ3BrJyA6IHBrXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzpmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzWydjb2RlJ109PT0yMDApe1xyXG4gICAgICAgICAgICAgICAgICAgIHhmemFsZXJ0LmFsZXJ0U3VjY2Vzcygn5oGt5Zac77yB5paw6Ze75Y+R6KGo5oiQ5Yqf77yBJyxmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcblxyXG5cclxufTtcclxuXHJcbk5ld3MucHJvdG90eXBlLmxpc3RlblVwbG9hZEZpbGVFdmVudCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIHVwbG9hZEJ0biA9ICQoJyN0aHVtYm5haWwtYnRuJyk7XHJcbiAgICB1cGxvYWRCdG4uY2hhbmdlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZmlsZSA9IHVwbG9hZEJ0blswXS5maWxlc1swXTtcclxuICAgICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLGZpbGUpO1xyXG4gICAgICAgIHhmemFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICd1cmwnOicvY21zL3VwbG9hZF9maWxlLycsXHJcbiAgICAgICAgICAgICdkYXRhJzogZm9ybURhdGEsXHJcbiAgICAgICAgICAgICdwcm9jZXNzRGF0YSc6IGZhbHNlLFxyXG4gICAgICAgICAgICAnY29udGVudFR5cGUnOiBmYWxzZSxcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnIDogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ109PT0yMDApe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSByZXN1bHRbJ2RhdGEnXVsndXJsJ107XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRodW1ibmFpbElucHV0ID0gJCgnI3RodW1ibmFpbC1mb3JtJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGh1bWJuYWlsSW5wdXQudmFsKHVybCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufTtcclxuXHJcbk5ld3MucHJvdG90eXBlLmxpc3RlblFpbml1VXBsb2FkRmlsZUV2ZW50ID0gZnVuY3Rpb24gKCl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgdXBsb2FkQnRuID0gJCgnI3RodW1ibmFpbC1idG4nKTtcclxuICAgIHVwbG9hZEJ0bi5jaGFuZ2UoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKDEpO1xyXG4gICAgICAgIHZhciBmaWxlID0gdGhpcy5maWxlc1swXTtcclxuICAgICAgICB4ZnphamF4LmdldCh7XHJcbiAgICAgICAgICAgICd1cmwnOicvY21zL3FudG9rZW4vJyxcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOmZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICB2YXIgdG9rZW4gPSByZXN1bHRbJ2RhdGEnXVsndG9rZW4nXTtcclxuICAgICAgICAgICAgICAgICB2YXIga2V5ID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKSsnLicrZmlsZS5uYW1lLnNwbGl0KCcuJykuc2xpY2UoLTEpWzBdO1xyXG4gICAgICAgICAgICAgICAgIHZhciBjb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgIHVzZUNkbkRvbWFpbjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgcmVnaW9uOiBxaW5pdS5yZWdpb24uejAsXHJcbiAgICAgICAgICAgICAgICAgICAgIHJldHJ5Q291bnQ6NlxyXG4gICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgdmFyIHB1dEV4dHJhID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgZm5hbWU6IGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgIG1pbWVUeXBlOiBbJ2ltYWdlL3BuZycsJ2ltYWdlL2pwZWcnLCdpbWFnZS9naWYnLCd2aWRlby94LW1zLXdtdiddXHJcbiAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICB2YXIgb2JzZXJ2YWJsZSA9IHFpbml1LnVwbG9hZChmaWxlLCBrZXksIHRva2VuLCBwdXRFeHRyYSwgY29uZmlnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgdmFyIG9ic2VydmVyID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICBuZXh0OmZ1bmN0aW9uKHJlcyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG90YWwgPSByZXMudG90YWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGVyY2VudCA9IHRvdGFsLnBlcmNlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGVyY2VudFRleHQgPSBwZXJjZW50LnRvRml4ZWQoMCkrJyUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocGVyY2VudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBOZXdzLnByb2dyZXNzR3JvdXAuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb2dyZXNzQmFyID0gJCgnLnByb2dyZXNzLWJhcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NCYXIuY3NzKHsnd2lkdGgnOnBlcmNlbnRUZXh0fSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc0Jhci50ZXh0KHBlcmNlbnRUZXh0KVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgZXJyb3I6ZnVuY3Rpb24oZXJyKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgY29tcGxldGU6ZnVuY3Rpb24gKHJlcyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgTmV3cy5wcm9ncmVzc0dyb3VwLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9ncmVzc0JhciA9ICQoJy5wcm9ncmVzcy1iYXInKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzQmFyLmNzcyh7J3dpZHRoJzowfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc0Jhci50ZXh0KCcwJScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRvbWFpbiA9ICdodHRwOi8vcTd3cHhycWd5LmJrdC5jbG91ZGRuLmNvbS8nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVuYW1lID0gcmVzLmtleTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSBkb21haW4rZmlsZW5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjdGh1bWJuYWlsLWZvcm0nKS52YWwodXJsKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSBvYnNlcnZhYmxlLnN1YnNjcmliZShvYnNlcnZlcik7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcblxyXG59O1xyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgbmV3cyA9IG5ldyBOZXdzKCk7XHJcbiAgICBuZXdzLnJ1bigpO1xyXG4gICAgTmV3cy5wcm9ncmVzc0dyb3VwID0gJCgnI3Byb2dyZXNzLWdyb3VwJyk7XHJcbn0pOyJdfQ==
