function PubCourse(){}PubCourse.prototype.initUEditor=function(){window.ue=UE.getEditor("editor",{serverUrl:"/ueditor/upload/"})},PubCourse.prototype.run=function(){this.initUEditor(),this.listenSubmitEvent()},PubCourse.prototype.listenSubmitEvent=function(){$("#submit-btn").click(function(){var t=$("#title-input").val(),i=$("#category-input").val(),o=$("#teacher-input").val(),e=$("#video-input").val(),n=$("#cover-input").val(),u=$("#price-input").val(),r=$("#duration-input").val(),c=window.ue.getContent();xfzajax.post({url:"/cms/pub_course/",data:{title:t,video_url:e,cover_url:n,price:u,duration:r,profile:c,category_id:i,teacher_id:o},success:function(t){200===t.code&&xfzalert.alertSuccess("成功发布",function(){window.location=window.location.href})}})})},$(function(){(new PubCourse).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInB1Yl9jb3Vyc2UuanMiXSwibmFtZXMiOlsiUHViQ291cnNlIiwicHJvdG90eXBlIiwiaW5pdFVFZGl0b3IiLCJ3aW5kb3ciLCJ1ZSIsIlVFIiwiZ2V0RWRpdG9yIiwic2VydmVyVXJsIiwicnVuIiwidGhpcyIsImxpc3RlblN1Ym1pdEV2ZW50IiwiJCIsImNsaWNrIiwidGl0bGUiLCJ2YWwiLCJjYXRlZ29yeV9pZCIsInRlYWNoZXJfaWQiLCJ2aWRlb191cmwiLCJjb3Zlcl91cmwiLCJwcmljZSIsImR1cmF0aW9uIiwicHJvZmlsZSIsImdldENvbnRlbnQiLCJ4ZnphamF4IiwicG9zdCIsInVybCIsImRhdGEiLCJzdWNjZXNzIiwicmVzdWx0IiwieGZ6YWxlcnQiLCJhbGVydFN1Y2Nlc3MiLCJsb2NhdGlvbiIsImhyZWYiXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLGFBSVRBLFVBQVVDLFVBQVVDLFlBQWMsV0FDOUJDLE9BQU9DLEdBQUtDLEdBQUdDLFVBQVUsU0FBUyxDQUM5QkMsVUFBYSxzQkFJckJQLFVBQVVDLFVBQVVPLElBQU0sV0FDdEJDLEtBQUtQLGNBQ0xPLEtBQUtDLHFCQUdUVixVQUFVQyxVQUFVUyxrQkFBb0IsV0FDcEJDLEVBQUUsZUFDUkMsTUFBTSxXQUNaLElBQUlDLEVBQVFGLEVBQUUsZ0JBQWdCRyxNQUMxQkMsRUFBY0osRUFBRSxtQkFBbUJHLE1BQ25DRSxFQUFhTCxFQUFFLGtCQUFrQkcsTUFDakNHLEVBQVlOLEVBQUUsZ0JBQWdCRyxNQUM5QkksRUFBWVAsRUFBRSxnQkFBZ0JHLE1BQzlCSyxFQUFRUixFQUFFLGdCQUFnQkcsTUFDMUJNLEVBQVdULEVBQUUsbUJBQW1CRyxNQUNoQ08sRUFBVWxCLE9BQU9DLEdBQUdrQixhQUV4QkMsUUFBUUMsS0FBSyxDQUNUQyxJQUFPLG1CQUNQQyxLQUFRLENBQ0piLE1BQVNBLEVBQ1RJLFVBQWFBLEVBQ2JDLFVBQWFBLEVBQ2JDLE1BQVNBLEVBQ1RDLFNBQVlBLEVBQ1pDLFFBQVdBLEVBQ1hOLFlBQWVBLEVBQ2ZDLFdBQWNBLEdBRWxCVyxRQUFXLFNBQVVDLEdBQ00sTUFBbkJBLEVBQWEsTUFDYkMsU0FBU0MsYUFBYSxPQUFPLFdBQ3pCM0IsT0FBTzRCLFNBQVc1QixPQUFPNEIsU0FBU0MsYUFTMURyQixFQUFFLFlBQ2tCLElBQUlYLFdBQ1ZRIiwiZmlsZSI6InB1Yl9jb3Vyc2UubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gUHViQ291cnNlKCkge1xyXG5cclxufVxyXG5cclxuUHViQ291cnNlLnByb3RvdHlwZS5pbml0VUVkaXRvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHdpbmRvdy51ZSA9IFVFLmdldEVkaXRvcignZWRpdG9yJyx7XHJcbiAgICAgICAgJ3NlcnZlclVybCc6ICcvdWVkaXRvci91cGxvYWQvJ1xyXG4gICAgfSlcclxufVxyXG5cclxuUHViQ291cnNlLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLmluaXRVRWRpdG9yKCk7XHJcbiAgICB0aGlzLmxpc3RlblN1Ym1pdEV2ZW50KCk7XHJcbn07XHJcblxyXG5QdWJDb3Vyc2UucHJvdG90eXBlLmxpc3RlblN1Ym1pdEV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHN1Ym1pdEJ0biA9ICQoXCIjc3VibWl0LWJ0blwiKTtcclxuICAgIHN1Ym1pdEJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHRpdGxlID0gJChcIiN0aXRsZS1pbnB1dFwiKS52YWwoKTtcclxuICAgICAgICB2YXIgY2F0ZWdvcnlfaWQgPSAkKFwiI2NhdGVnb3J5LWlucHV0XCIpLnZhbCgpO1xyXG4gICAgICAgIHZhciB0ZWFjaGVyX2lkID0gJChcIiN0ZWFjaGVyLWlucHV0XCIpLnZhbCgpO1xyXG4gICAgICAgIHZhciB2aWRlb191cmwgPSAkKFwiI3ZpZGVvLWlucHV0XCIpLnZhbCgpO1xyXG4gICAgICAgIHZhciBjb3Zlcl91cmwgPSAkKFwiI2NvdmVyLWlucHV0XCIpLnZhbCgpO1xyXG4gICAgICAgIHZhciBwcmljZSA9ICQoXCIjcHJpY2UtaW5wdXRcIikudmFsKCk7XHJcbiAgICAgICAgdmFyIGR1cmF0aW9uID0gJChcIiNkdXJhdGlvbi1pbnB1dFwiKS52YWwoKTtcclxuICAgICAgICB2YXIgcHJvZmlsZSA9IHdpbmRvdy51ZS5nZXRDb250ZW50KCk7XHJcblxyXG4gICAgICAgIHhmemFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICd1cmwnOiAnL2Ntcy9wdWJfY291cnNlLycsXHJcbiAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgJ3RpdGxlJzogdGl0bGUsXHJcbiAgICAgICAgICAgICAgICAndmlkZW9fdXJsJzogdmlkZW9fdXJsLFxyXG4gICAgICAgICAgICAgICAgJ2NvdmVyX3VybCc6IGNvdmVyX3VybCxcclxuICAgICAgICAgICAgICAgICdwcmljZSc6IHByaWNlLFxyXG4gICAgICAgICAgICAgICAgJ2R1cmF0aW9uJzogZHVyYXRpb24sXHJcbiAgICAgICAgICAgICAgICAncHJvZmlsZSc6IHByb2ZpbGUsXHJcbiAgICAgICAgICAgICAgICAnY2F0ZWdvcnlfaWQnOiBjYXRlZ29yeV9pZCxcclxuICAgICAgICAgICAgICAgICd0ZWFjaGVyX2lkJzogdGVhY2hlcl9pZFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeGZ6YWxlcnQuYWxlcnRTdWNjZXNzKFwi5oiQ5Yqf5Y+R5biDXCIsZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHB1YkNvdXJzZSA9IG5ldyBQdWJDb3Vyc2UoKTtcclxuICAgIHB1YkNvdXJzZS5ydW4oKTtcclxuXHJcbn0pIl19
